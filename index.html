<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <title>Document</title>
</head>
<body>
    <div Id="mainbox">
         <div Id="triviatitle">Trivia Game</div>
             <div class="questionbox">
                 <div class="question">test question?</div>
                 <div id="timerdiv"></div>
                 <div class="answerbox">
                     <div id="answer1">test answer</div>
                     <div id="answer2">test answer</div>
                     <div id="answer3">test answer</div>
                     <div id="answer4">test answer</div>
                     <div id="picturediv"></div>
                 </div>
             </div>

    </div>
    <script>
    var possiblequestions = ["In episode season 3 episode 14 nick screams like a little girl after meeting this famous artist.",
     "In season 2 episode Schmidt, lamenting the loss of Cecelia, tries to replace her with this fish.",
      "In season 2 episode 20 At Nicks dads funeral While impersonating Elvis Jess sings this song.",
       "In season 4 episode 18 Bear Claw a Jess sing a song about this homosexual woodland animal.", "4?"];
    var possibleanswer1 = ["A.	Michael Jackson", "A. Hammerhead shark", "A. Heart Break Hotel", "A. Bear", 4];
    var possibleanswer2 = ["B.	Beyoncé", "B. Clone fish", "B. In The Ghetto", "B. Deer", 4];
    var possibleanswer3 = ["C. Prince", "C. Angel fish", "C. Can’t Help Falling in Love", "C. Fox", 4];
    var possibleanswer4 = ["D.	Elvis Presley","D. Lion fish", "D. I’m Leaving", "D. Frog", 4];
    var questionindictator = 0;
    var rightorwrongindictator = true;
    var pictures =[0,1,2,3,4];
    var answerclicked = "crazy"; 
    var correctanswer = "bad";
    var time = 10;
    var timerRunning = true;
    var intervalId = null;

 function movetonextquestion(){
    $(".question").html(possiblequestions[questionindictator]);
    for (var i = 1; i <= 4; i++){
         var answerid = '#answer'+i;
         var possibleanswer = [0,possibleanswer1[questionindictator], possibleanswer2[questionindictator], possibleanswer3[questionindictator], possibleanswer4[questionindictator]];

         $(answerid).html(possibleanswer[i]);
        }
    clearInterval(intervalId);
    time = 10;

    starttimer();

        
    };

function starttimer(){
$("#timerdiv").text(time);

intervalId = setInterval(start, 1000);
function start( ){
if (time > 0){
    time--;
    $("#timerdiv").text(time);
  }
else{
    clearInterval(intervalId);
      clearAll();
      $(".question").text("to slow joe");
      logcorrectanswer();
      $("#picturediv").append(pictures[questionindictator]);
      gifplay();
      resart();

  }
}
}



 movetonextquestion();
 var setupclicksarray = [];
 setupclicksarray[0] =[false,false,true,false];
 setupclicksarray[1] =[false,false,false,true];
 setupclicksarray[2] =[false,true,false,false];
 setupclicksarray[3] =[false,false,true,false];
 setupclicksarray[4] =[false,false,true,false];
 setupclicksarray[5] =[false,false,true,false];
 setupclicksarray[6] =[false,false,true,false];

 setupclicks(setupclicksarray[questionindictator]);

function setupclicks(testoptions){
 

     $("#answer1").on("click", function(){
         rightorwrongindictator = testoptions[0];
         console.log(rightorwrongindictator);
         answerclicked = possibleanswer1[questionindictator];
         clearInterval(intervalId);
         winlose();
         });
     $("#answer2").on("click", function(){
        rightorwrongindictator = testoptions[1];
         console.log(rightorwrongindictator);
         answerclicked = possibleanswer2[questionindictator];
        clearInterval(intervalId);
         winlose();
   
     });
     $("#answer3").on("click", function(){
        rightorwrongindictator = testoptions[2];
         console.log(rightorwrongindictator);
         answerclicked = possibleanswer3[questionindictator];
         clearInterval(intervalId);
         winlose();
   
     });
     $("#answer4").on("click", function(){
        rightorwrongindictator = testoptions[3];
         console.log(rightorwrongindictator);
         answerclicked = possibleanswer4[questionindictator];
         clearInterval(intervalId);
         winlose();

     });
    }
function winlose(){
    if (rightorwrongindictator === true){
        console.log("you win");
        clearAll();
        $(".question").text("correct");
        $("#picturediv").append(pictures[questionindictator]);
        gifplay();
    
    }
    else {
        console.log("you lose");
        clearAll();
        $(".question").html("incorrect");
        $("#answer1").text("you choose: "+ answerclicked);
        logcorrectanswer();
        $("#picturediv").append(pictures[questionindictator]);
        gifplay();
        rightorwrongindictator = true;
       
        
    }
}
function resart(){
    questionindictator++;
}
function logcorrectanswer(){
for (var i = 0; i < 4; i++){
            var questionspecificarray = setupclicksarray[questionindictator];
            if (questionspecificarray[i] === true){
            var possibleanswer = [possibleanswer1[questionindictator], possibleanswer2[questionindictator], possibleanswer3[questionindictator], possibleanswer4[questionindictator]];
            
            correctanswer = possibleanswer[i];}
            $("#answer3").text("correct choice: " + correctanswer);
        };
    };
function gifplay(){
    time = 10;
    setTimeout(function () {
    clearAll();
    $("#picturediv").empty();
    movetonextquestion();
  }, 3000)
}

function clearAll(){
    $(".question").empty();
    $("#answer1").empty();
    $("#answer2").empty();
    $("#answer3").empty();
    $("#answer4").empty();
}
    </script>

</body>
</html>